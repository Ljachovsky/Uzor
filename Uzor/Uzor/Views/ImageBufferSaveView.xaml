<?xml version="1.0" encoding="UTF-8"?>
<ContentView xmlns="http://xamarin.com/schemas/2014/forms" 
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:skia="clr-namespace:SkiaSharp;assembly=SkiaSharp" xmlns:skia1="clr-namespace:SkiaSharp.Views.Forms;assembly=SkiaSharp.Views.Forms"
             x:Class="Uzor.Views.ImageBufferSaveView">
  <ContentView.Content>
        <Grid>
            <BoxView x:Name="background" BackgroundColor="Black" Opacity="0.35">
                <BoxView.GestureRecognizers>
                    <TapGestureRecognizer Tapped="background_Tapped"></TapGestureRecognizer>
                </BoxView.GestureRecognizers>
            </BoxView>
            
            <Frame x:Name="viewFrame"
                   BackgroundColor="White"
                   CornerRadius="20"
                   Margin="40,100,40,100"
                   Padding="0"
                   VerticalOptions="Center"
                   >
                <StackLayout>
                    <Grid MinimumHeightRequest="60" HeightRequest="60">
                        <BoxView BackgroundColor="Red" HorizontalOptions="FillAndExpand" Margin="0"></BoxView>
                        <Label Text="sgdgdfg" TextColor="White" HorizontalOptions="Center" VerticalOptions="Center"></Label>
                    </Grid>

                    <StackLayout Orientation="Horizontal" Padding="20">
                        <Label Text="type bla bla bla" TextColor="Black"></Label>
                        <Picker x:Name="formatPicker"
                            Title="image format"
                            SelectedIndexChanged="onFormatPickerChanged">
                            <Picker.ItemsSource>
                                <x:Array Type="{x:Type skia:SKEncodedImageFormat}">
                                    <x:Static Member="skia:SKEncodedImageFormat.Gif" />
                                    <x:Static Member="skia:SKEncodedImageFormat.Ico" />
                                    <x:Static Member="skia:SKEncodedImageFormat.Jpeg" />
                                    <x:Static Member="skia:SKEncodedImageFormat.Png" />
                                </x:Array>
                            </Picker.ItemsSource>
                        </Picker>
                        
                        
                    </StackLayout>
                    
                    <Slider  Maximum="5000" Minimum="700" Value="1000" ValueChanged="heightValue_Changed"></Slider>
                    
                    <Frame BackgroundColor="Red" VerticalOptions="Fill" HorizontalOptions="Fill" CornerRadius="10" Padding="0" Margin="15">
                        <ScrollView Orientation="Both">
                            <skia1:SKCanvasView VerticalOptions="FillAndExpand" HorizontalOptions="FillAndExpand" WidthRequest="1000" HeightRequest="1000"
                            x:Name="previewCanvas"  InputTransparent="True"
                            PaintSurface="onCanvasViewPaintSurface" IgnorePixelScaling="False">
                            </skia1:SKCanvasView>
                        </ScrollView>
                    </Frame>
                    
                    
                    <Button Text="save" Clicked="imageSaveButton_clicked" Margin="20"></Button>
                    
                </StackLayout>
            </Frame>
        </Grid>
       
    </ContentView.Content>
</ContentView>